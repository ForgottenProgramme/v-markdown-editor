module.exports=function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t){e.exports=require("markdownparser")},function(e,t){e.exports=require("markdown-it")},function(e,t){e.exports=require("codemirror")},function(e,t){e.exports=require("codemirror/lib/codemirror.css")},function(e,t,i){},function(e,t){e.exports=require("codemirror/addon/display/fullscreen.js")},function(e,t){e.exports=require("codemirror/mode/markdown/markdown.js")},function(e,t){e.exports=require("codemirror/mode/gfm/gfm.js")},function(e,t){e.exports=require("codemirror/addon/display/placeholder.js")},function(e,t){e.exports=require("codemirror/addon/selection/active-line.js")},function(e,t,i){"use strict";i.r(t);i(3),i(4);var r=i(0),o=i.n(r),s=i(1),a=i.n(s),l=i(2),n=i.n(l);i(5),i(6),i(7),i(8),i(9);var c=function(e,t,i,r,o,s,a,l){var n,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),r&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),a?(n=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},c._ssrRegister=n):o&&(n=l?function(){o.call(this,this.$root.$options.shadowRoot)}:o),n)if(c.functional){c._injectStyles=n;var d=c.render;c.render=function(e,t){return n.call(t),d(e,t)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,n):[n]}return{exports:e,options:c}}({props:{css:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"280px"},toolbar:{type:String,default:"clean redo undo | bold italic strikethrough heading | image link | numlist bullist code quote | preview fullscreen"},extend:{type:Object},buttons:{type:Object,default:function(){return{bold:{title:"Bold",className:"far fa-bold",cmd:"bold",hotkey:"Ctrl-B"},italic:{title:"Italic",className:"far fa-italic",cmd:"italic",hotkey:"Ctrl-I"},strikethrough:{cmd:"strikethrough",className:"far fa-strikethrough",title:"Strikethrough"},heading:{title:"Heading",className:"far fa-heading",cmd:"heading",hotkey:"Ctrl-H"},code:{title:"Code",className:"far fa-code",cmd:"code",hotkey:"Ctrl-X"},quote:{title:"Quote",className:"far fa-quote-left",cmd:"quote",hotkey:"Ctrl-Q"},link:{title:"Link",className:"far fa-link",cmd:"link",hotkey:"Ctrl-K"},image:{title:"Image",className:"far fa-image",cmd:"image",hotkey:"Ctrl-P"},fullscreen:{cmd:"fullscreen",className:"far fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",hotkey:"F11",ready:!0},preview:{cmd:"preview",className:"far fa-eye no-disable",title:"Toggle Preview",hotkey:"Ctrl-P",ready:!0},clipboard:{cmd:"clipboard",className:"far fa-clipboard",title:"Copy & Markdown Format",hotkey:"Ctrl-V"},clean:{cmd:"clean",className:"fas fa-remove-format",title:"Clean html format"},undo:{cmd:"undo",className:"far fa-undo",title:"Undo",hotkey:"Ctrl-Z"},redo:{cmd:"redo",className:"far fa-repeat",title:"Redo",hotkey:"Ctrl-Y"},bullist:{cmd:"bullist",className:"far fa-list-ul",title:"Generic List"},numlist:{cmd:"numlist",className:"far fa-list-ol",title:"Numbered List"}}}},name:{type:String,default:"html"},value:{type:String,default:"",required:!1},buttonClass:{type:String,default:"btn btn-outline-secondary"},options:{type:Object,default:function(){return{mode:"gfm",theme:"elegent",lineNumbers:!1,styleActiveLine:!1,styleSelectedText:!0,lineWrapping:!0,indentWithTabs:!0,autoRefresh:!0,tabSize:2,indentUnit:2}}}},data:()=>({id:"v-md-editor-"+(new Date).getTime(),editor:null,preview:!1,html:"",toolbars:[],shortcuts:{}}),watch:{value(e){e!=this.editor.getValue()&&this.editor.setValue(e)}},computed:{styles(){return{width:isNaN(this.width)?this.width:this.width+"%",height:isNaN(this.height)?this.height:this.height+"%"}}},methods:{isEmpty:function(e){return null==e||/^[\s\xa0]*$/.test(e)},isUrl:function(e){return!this.isEmpty(e)&&e.match(/((http(s)?):\/\/[\w\.\/\-=?#]+)/gi)},format(){for(var e=arguments[0],t=1;t<=arguments.length;t++)e=e.replace(/%[a-z]/,arguments[t]);return e},uid(e){return this.format("%s-%s",this.id,e)},obj(e){return jQuery("#"+this.uid(e))},_toggleBlock(e,t,i){i=this.isEmpty(i)?t:i;var r,o=this.editor,s=o.getCursor("start"),a=o.getCursor("end");this.state()[e]?(t=(r=o.getLine(s.line)).slice(0,s.ch),i=r.slice(s.ch),"bold"==e?(t=t.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),i=i.replace(/(\*\*|__)/,"")):"italic"==e?(t=t.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),i=i.replace(/(\*|_)/,"")):"strikethrough"==e&&(t=t.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),i=i.replace(/(\*\*|~~)/,"")),o.replaceRange(t+i,{line:s.line,ch:0},{line:s.line,ch:99999999999999}),"bold"==e||"strikethrough"==e?(s.ch-=2,s!==a&&(a.ch-=2)):"italic"==e&&(s.ch-=1,s!==a&&(a.ch-=1))):(r=o.getSelection(),"bold"==e?r=(r=r.split("**").join("")).split("__").join(""):"italic"==e?r=(r=r.split("*").join("")).split("_").join(""):"strikethrough"==e&&(r=r.split("~~").join("")),o.replaceSelection(t+r+i),s.ch+=t.length,a.ch=s.ch+r.length),o.setSelection(s,a)},_toggleLine(e){for(var t=this.editor,i=this.state(),r=t.getCursor("start"),o=t.getCursor("end"),s={quote:/^(\s*)\>\s+/,bullist:/^(\s*)(\*|\-|\+)\s+/,numlist:/^(\s*)\d+\.\s+/},a={quote:"> ",bullist:"* ",numlist:"1. "},l=r.line;l<=o.line;l++)!function(r){var o=t.getLine(r);o=i[e]?o.replace(s[e],"$1"):a[e]+o,t.replaceRange(o,{line:r,ch:0},{line:r,ch:99999999999999})}(l)},state(e){e=e||this.editor.getCursor("start");var t=this.editor.getTokenAt(e);if(!t.type)return{};for(var i,r,o=t.type.split(" "),s={},a=0;a<o.length;a++)"strong"===(i=o[a])?s.bold=!0:"variable-2"===i?(r=this.editor.getLine(e.line),/^\s*\d+\.\s/.test(r)?s.numlist=!0:s.bullist=!0):"atom"===i?s.quote=!0:"em"===i?s.italic=!0:"quote"===i?s.quote=!0:"strikethrough"===i?s.strikethrough=!0:"comment"===i?s.code=!0:"link"===i||"url"===i?s.link=!0:"image"===i?s.image=!0:i.match(/^header(\-[1-6])?$/)&&(s[i.replace("header","heading")]=!0);return s},_replaceSelection(e,t,i){var r,o=this.editor,s=t[0],a=t[1],l=o.getCursor("start"),n=o.getCursor("end");i&&Object.keys(i).forEach(e=>{s=s.replace("#"+e+"#",i[e]),a=a.replace("#"+e+"#",i[e])}),e?(r=o.getLine(l.line),s=r.slice(0,l.ch),a=r.slice(l.ch),o.replaceRange(s+a,{line:l.line,ch:0})):(o.replaceSelection(s+a),l.ch+=s.length,l!==n&&(n.ch+=s.length)),o.setSelection(l,n),o.focus()},drawImage(e){var t=this.state();this._replaceSelection(t.image,["![#title#](",'#url# "#title#")'],e)},drawLink(e){var t=this.state();this._replaceSelection(t.link,["[#title#]",'(#url# "#title#")'],e)},command(e){var t=this.editor,i=t.getSelection();this.state();switch(this.$root.$emit("markdown-editor:"+e,this),e){case"undo":t.undo();break;case"redo":t.redo();break;case"bold":this._toggleBlock("bold","**");break;case"italic":this._toggleBlock("italic","*");break;case"strikethrough":this._toggleBlock("strikethrough","~~");break;case"code":this._toggleBlock("code","```");break;case"heading":t.replaceSelection("\n### "+i);break;case"clipboard":this.obj("modal-clipboard").modal("show");break;case"image":var r=prompt("Please enter image url","https://");if(this.isUrl(r)){var s=this.isEmpty(i)?"This is image title":i;this.drawImage({title:s,url:r})}break;case"link":r=prompt("Please enter link","https://");if(this.isUrl(r)){s=this.isEmpty(i)?r:i;this.drawLink({title:s,url:r})}break;case"quote":case"quote":this._toggleLine("quote");break;case"numlist":this._toggleLine("numlist");break;case"bullist":this._toggleLine("bullist");break;case"preview":var l=new a.a({typographer:!0,breaks:!0,quotes:"“”‘’"});this.html=l.render(t.getValue()),this.preview^=!0,this.obj("toolbar").find('.btn:not(".ready")').prop("disabled",this.preview);break;case"fullscreen":this.obj("container").toggleClass("v-md-fullscreen"),this.obj("fullscreen").toggleClass("active"),t.setOption("fullScreen",!t.getOption("fullScreen"));break;case"clean":i=o.a.parse(i),t.replaceSelection(i)}t.focus()},build(){if(jQuery){if(this.isEmpty(this.toolbar))console.error("You must set toolbar!");else if(!this.__rendered){var e=this;this.buttons=Object.assign(this.buttons,this.extend);for(var t=e.toolbar.toLowerCase().split(/(\s)/).filter((function(t){return!e.isEmpty(t)})),i=[],r=0;r<t.length;r++){var o=t[r],s=e.buttons[o];s&&(s.id=o,i.push(s)),"|"!==o&&r!=t.length-1||(this.toolbars.push(i),i=[])}var a=Object.assign({},{extraKeys:e.shortcuts,initialValue:e.value},e.options),l=document.getElementById(e.id+"-input");e.editor=n.a.fromTextArea(l,a),e.editor.on("change",(function(t){e.$emit("input",t.getValue())})),e.editor.on("cursorActivity",(function(){var t=e.state();e.obj("toolbar").find(".btn.active:not(.ready)").removeClass("active"),Object.keys(t).forEach(t=>{e.obj(t).addClass("active")})})),e.__rendered=!0}}else console.error("Must required jQuery!")}},mounted(){this.$nextTick(()=>{this.build()})},destroyed(){this.editor=null}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["v-md-container",e.css],attrs:{id:e.uid("container")}},[i("div",{staticClass:"v-md-toolbar",attrs:{id:e.uid("toolbar")}},e._l(e.toolbars,(function(t){return i("div",{staticClass:"btn-group mr-3",attrs:{role:"group"}},e._l(t,(function(t){return i("button",{class:[e.buttonClass,{ready:t.ready}],attrs:{type:"button",id:e.uid(t.id),title:t.title},on:{click:function(i){return e.command(t.cmd)}}},[i("i",{class:t.className,attrs:{"aria-hidden":"true"}})])})),0)})),0),e._v(" "),i("div",{staticClass:"v-md-wrapper"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],style:e.styles,attrs:{id:e.uid("input"),name:e.name},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),e.preview?i("div",{staticClass:"v-md-preview",attrs:{id:e.uid("html-preview")},domProps:{innerHTML:e._s(e.html)}}):e._e()])])}),[],!1,null,null,null).exports,d={install:function(e){e.__md_editor_installed||(e.__md_editor_installed=!0,e.component("markdown-editor",c))}};"undefined"!=typeof window&&window.Vue&&window.Vue.use(d);t.default=d}]);