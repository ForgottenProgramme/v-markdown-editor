!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var r in i)("object"==typeof exports?exports:e)[r]=i[r]}}(window,(function(){return function(e){var t={};function i(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=e,i.c=t,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)i.d(r,o,function(t){return e[t]}.bind(null,o));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t){e.exports=require("markdownparser")},function(e,t){e.exports=require("marked")},function(e,t){e.exports=require("codemirror")},function(e,t){e.exports=require("codemirror/lib/codemirror.css")},function(e,t,i){},function(e,t){e.exports=require("codemirror/addon/display/fullscreen.js")},function(e,t){e.exports=require("codemirror/mode/markdown/markdown.js")},function(e,t){e.exports=require("codemirror/mode/gfm/gfm.js")},function(e,t){e.exports=require("codemirror/addon/display/placeholder.js")},function(e,t){e.exports=require("codemirror/addon/selection/active-line.js")},function(e,t,i){"use strict";i.r(t);i(3),i(4);var r=i(0),o=i.n(r),n=i(1),s=i.n(n),a=i(2),l=i.n(a);i(5),i(6),i(7),i(8),i(9);var c=function(e,t,i,r,o,n,s,a){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=i,c._compiled=!0),r&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),s?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),o&&o.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):o&&(l=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var d=c.beforeCreate;c.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:c}}({props:{css:{type:String},width:{type:String,default:"100%"},height:{type:String,default:"280px"},toolbar:{type:String,default:"clean redo undo | bold italic strikethrough heading | image link | numlist bullist code quote | preview fullscreen"},extend:{type:Object},buttons:{type:Object,default:function(){return{bold:{title:"Bold",className:"far fa-bold",cmd:"bold",hotkey:"Ctrl-B"},italic:{title:"Italic",className:"far fa-italic",cmd:"italic",hotkey:"Ctrl-I"},strikethrough:{cmd:"strikethrough",className:"far fa-strikethrough",title:"Strikethrough"},heading:{title:"Heading",className:"far fa-heading",cmd:"heading",hotkey:"Ctrl-H"},code:{title:"Code",className:"far fa-code",cmd:"code",hotkey:"Ctrl-X"},quote:{title:"Quote",className:"far fa-quote-left",cmd:"quote",hotkey:"Ctrl-Q"},link:{title:"Link",className:"far fa-link",cmd:"link",hotkey:"Ctrl-K"},image:{title:"Image",className:"far fa-image",cmd:"image",hotkey:"Ctrl-P"},fullscreen:{cmd:"fullscreen",className:"far fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",hotkey:"F11",ready:!0},preview:{cmd:"preview",className:"far fa-eye no-disable",title:"Toggle Preview",hotkey:"Ctrl-P",ready:!0},clipboard:{cmd:"clipboard",className:"far fa-clipboard",title:"Copy & Markdown Format",hotkey:"Ctrl-V"},clean:{cmd:"clean",className:"far fa-remove-format",title:"Html to markdown"},undo:{cmd:"undo",className:"far fa-undo",title:"Undo",hotkey:"Ctrl-Z"},redo:{cmd:"redo",className:"far fa-repeat",title:"Redo",hotkey:"Ctrl-Y"},bullist:{cmd:"bullist",className:"far fa-list-ul",title:"Generic List"},numlist:{cmd:"numlist",className:"far fa-list-ol",title:"Numbered List"}}}},name:{type:String,default:"html"},value:{type:String,default:"",required:!1},buttonClass:{type:String,default:"btn btn-outline-secondary"},options:{type:Object,default:function(){return{mode:"gfm",theme:"elegent",lineNumbers:!1,styleActiveLine:!1,styleSelectedText:!0,lineWrapping:!0,indentWithTabs:!0,autoRefresh:!0,tabSize:2,indentUnit:2}}}},data:function(){return{id:"v-md-editor-"+(new Date).getTime(),editor:null,preview:!1,html:"",toolbars:[],shortcuts:{}}},watch:{value:function(e){e!=this.editor.getValue()&&this.editor.setValue(e)}},computed:{styles:function(){return{width:isNaN(this.width)?this.width:this.width+"%",height:isNaN(this.height)?this.height:this.height+"%"}}},methods:{isEmpty:function(e){return null==e||/^[\s\xa0]*$/.test(e)},isUrl:function(e){return!this.isEmpty(e)&&e.match(/((http(s)?):\/\/[\w\.\/\-=?#]+)/gi)},format:function(){for(var e=arguments[0],t=1;t<=arguments.length;t++)e=e.replace(/%[a-z]/,arguments[t]);return e},uid:function(e){return this.format("%s-%s",this.id,e)},obj:function(e){return jQuery("#"+this.uid(e))},_toggleBlock:function(e,t,i){i=this.isEmpty(i)?t:i;var r,o=this.editor,n=o.getCursor("start"),s=o.getCursor("end");this.state()[e]?(t=(r=o.getLine(n.line)).slice(0,n.ch),i=r.slice(n.ch),"bold"==e?(t=t.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),i=i.replace(/(\*\*|__)/,"")):"italic"==e?(t=t.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),i=i.replace(/(\*|_)/,"")):"strikethrough"==e&&(t=t.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),i=i.replace(/(\*\*|~~)/,"")),o.replaceRange(t+i,{line:n.line,ch:0},{line:n.line,ch:99999999999999}),"bold"==e||"strikethrough"==e?(n.ch-=2,n!==s&&(s.ch-=2)):"italic"==e&&(n.ch-=1,n!==s&&(s.ch-=1))):(r=o.getSelection(),"bold"==e?r=(r=r.split("**").join("")).split("__").join(""):"italic"==e?r=(r=r.split("*").join("")).split("_").join(""):"strikethrough"==e&&(r=r.split("~~").join("")),o.replaceSelection(t+r+i),n.ch+=t.length,s.ch=n.ch+r.length),o.setSelection(n,s)},_toggleLine:function(e){for(var t=this.editor,i=this.state(),r=t.getCursor("start"),o=t.getCursor("end"),n={quote:/^(\s*)\>\s+/,bullist:/^(\s*)(\*|\-|\+)\s+/,numlist:/^(\s*)\d+\.\s+/},s={quote:"> ",bullist:"* ",numlist:"1. "},a=r.line;a<=o.line;a++)!function(r){var o=t.getLine(r);o=i[e]?o.replace(n[e],"$1"):s[e]+o,t.replaceRange(o,{line:r,ch:0},{line:r,ch:99999999999999})}(a)},state:function(e){e=e||this.editor.getCursor("start");var t=this.editor.getTokenAt(e);if(!t.type)return{};for(var i,r,o=t.type.split(" "),n={},s=0;s<o.length;s++)"strong"===(i=o[s])?n.bold=!0:"variable-2"===i?(r=this.editor.getLine(e.line),/^\s*\d+\.\s/.test(r)?n.numlist=!0:n.bullist=!0):"atom"===i?n.quote=!0:"em"===i?n.italic=!0:"quote"===i?n.quote=!0:"strikethrough"===i?n.strikethrough=!0:"comment"===i?n.code=!0:"link"===i||"url"===i?n.link=!0:"image"===i?n.image=!0:i.match(/^header(\-[1-6])?$/)&&(n[i.replace("header","heading")]=!0);return n},_replaceSelection:function(e,t,i){var r,o=this.editor,n=t[0],s=t[1],a=o.getCursor("start"),l=o.getCursor("end");i&&Object.keys(i).forEach((function(e){n=n.replace("#"+e+"#",i[e]),s=s.replace("#"+e+"#",i[e])})),e?(r=o.getLine(a.line),n=r.slice(0,a.ch),s=r.slice(a.ch),o.replaceRange(n+s,{line:a.line,ch:0})):(o.replaceSelection(n+s),a.ch+=n.length,a!==l&&(l.ch+=n.length)),o.setSelection(a,l),o.focus()},drawImage:function(e){var t=this.state();this._replaceSelection(t.image,["![#title#](",'#url# "#title#")'],e)},drawLink:function(e){var t=this.state();this._replaceSelection(t.link,["[#title#]",'(#url# "#title#")'],e)},command:function(e){var t=this.editor,i=t.getSelection();this.state();switch(this.$root.$emit("markdown-editor:"+e,this),e){case"undo":t.undo();break;case"redo":t.redo();break;case"bold":this._toggleBlock("bold","**");break;case"italic":this._toggleBlock("italic","*");break;case"strikethrough":this._toggleBlock("strikethrough","~~");break;case"code":this._toggleBlock("code","```");break;case"heading":t.replaceSelection("\n### "+i);break;case"clipboard":this.obj("modal-clipboard").modal("show");break;case"image":var r=prompt("Please enter image url","https://");if(this.isUrl(r)){var n=this.isEmpty(i)?"This is image title":i;this.drawImage({title:n,url:r})}break;case"link":r=prompt("Please enter link","https://");if(this.isUrl(r)){n=this.isEmpty(i)?r:i;this.drawLink({title:n,url:r})}break;case"quote":case"quote":this._toggleLine("quote");break;case"numlist":this._toggleLine("numlist");break;case"bullist":this._toggleLine("bullist");break;case"preview":this.html=s()(t.getValue(),{breaks:!0}),this.preview^=!0,this.obj("toolbar").find('.btn:not(".ready")').prop("disabled",this.preview);break;case"fullscreen":this.obj("container").toggleClass("v-md-fullscreen"),this.obj("fullscreen").toggleClass("active"),t.setOption("fullScreen",!t.getOption("fullScreen"));break;case"clean":i=o.a.parse(i),t.replaceSelection(i)}t.focus()},build:function(){if(jQuery){if(this.isEmpty(this.toolbar))console.error("You must set toolbar!");else if(!this.__rendered){var e=this;this.buttons=Object.assign(this.buttons,this.extend);for(var t=e.toolbar.toLowerCase().split(/(\s)/).filter((function(t){return!e.isEmpty(t)})),i=[],r=0;r<t.length;r++){var o=t[r],n=e.buttons[o];n&&(n.id=o,i.push(n)),"|"!==o&&r!=t.length-1||(this.toolbars.push(i),i=[])}var s=Object.assign({},{extraKeys:e.shortcuts,initialValue:e.value},e.options),a=document.getElementById(e.id+"-input");e.editor=l.a.fromTextArea(a,s),e.editor.on("change",(function(t){e.$emit("input",t.getValue())})),e.editor.on("cursorActivity",(function(){var t=e.state();e.obj("toolbar").find(".btn.active:not(.ready)").removeClass("active"),Object.keys(t).forEach((function(t){e.obj(t).addClass("active")}))})),e.__rendered=!0}}else console.error("Must required jQuery!")}},mounted:function(){var e=this;this.$nextTick((function(){e.build()}))},destroyed:function(){this.editor=null}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:["v-md-container",e.css],attrs:{id:e.uid("container")}},[i("div",{staticClass:"v-md-toolbar",attrs:{id:e.uid("toolbar")}},e._l(e.toolbars,(function(t){return i("div",{staticClass:"btn-group mr-3",attrs:{role:"group"}},e._l(t,(function(t){return i("button",{class:[e.buttonClass,{ready:t.ready}],attrs:{type:"button",id:e.uid(t.id),title:t.title},on:{click:function(i){return e.command(t.cmd)}}},[i("i",{class:t.className,attrs:{"aria-hidden":"true"}})])})),0)})),0),e._v(" "),i("div",{staticClass:"v-md-wrapper"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.value,expression:"value"}],style:e.styles,attrs:{id:e.uid("input"),name:e.name},domProps:{value:e.value},on:{input:function(t){t.target.composing||(e.value=t.target.value)}}}),e._v(" "),e.preview?i("div",{staticClass:"v-md-preview",attrs:{id:e.uid("html-preview")},domProps:{innerHTML:e._s(e.html)}}):e._e()])])}),[],!1,null,null,null).exports,u={install:function(e){e.__md_editor_installed||(e.__md_editor_installed=!0,e.component("markdown-editor",c))}};"undefined"!=typeof window&&window.Vue&&Vue.use(u);t.default=u}])}));